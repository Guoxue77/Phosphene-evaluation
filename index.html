<!DOCTYPE html>
<html>
<head>
    <title>Phosphene Evaluation Program</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            flex-direction: column;
        }

        select {
            font-size: 20px;
            width: 100px;
        }

        button {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Phosphene Evaluation Program</h1>
    <p>Please rate the intensity of the perceived phosphenes on a scale of 0 to 4.</p>
    <div>
        <label for="intensity">Intensity:</label>
        <select id="intensity">
            <option value="0">0</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
        </select>
    </div>
    <div id="stimulationDiv">
        <!-- Stimuli presentation area -->
    </div>
    <button id="submit">Submit</button>
    <div id="results">
        <!-- Results display area -->
    </div>
    <script>
        const numStimulations = 10; // Number of stimulations
        let currentStimulation = 0; // Current stimulation count
        const responses = []; // Array to store responses

        const stimulationDiv = document.getElementById('stimulationDiv');
        const intensityInput = document.getElementById('intensity');
        const submitButton = document.getElementById('submit');
        const resultsDiv = document.getElementById('results');

        function presentStimulation() {
            if (currentStimulation < numStimulations) {
                stimulationDiv.innerHTML = `Stimulation Trial: ${currentStimulation + 1}`;
                intensityInput.value = ''; // Reset intensity selection
                intensityInput.disabled = false; // Enable selection
            } else {
                displayResults();
            }
        }

        function displayResults() {
            resultsDiv.innerHTML = 'Results:<br>';
            for (let i = 0; i < responses.length; i++) {
                resultsDiv.innerHTML += `Stimulation Trial ${i + 1}: Intensity ${responses[i]}<br>`;
            }
        }

        submitButton.addEventListener('click', () => {
            const intensity = intensityInput.value;
            if (!isNaN(intensity) && intensity >= 0 && intensity <= 4) {
                responses.push(intensity);
                currentStimulation++;
                if (currentStimulation < numStimulations) {
                    presentStimulation();
                }
            }
        });

        // Start the evaluation
        presentStimulation();
    </script>
</body>
</html>



